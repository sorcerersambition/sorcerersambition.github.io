{"version":3,"sources":["webpack:///webpack/bootstrap ee5cfc4e482c306c9bf8","webpack:///./active/dungeon/scripts/index.js","webpack:///./active/dungeon/scripts/drawing/shapes.js","webpack:///./active/dungeon/scripts/utilities/keypress.js","webpack:///./active/dungeon/scripts/misc/spell.js","webpack:///./active/dungeon/scripts/misc/enemy.js","webpack:///./active/dungeon/scripts/misc/player.js","webpack:///./active/dungeon/scripts/misc/encounter.js","webpack:///./active/dungeon/scripts/utilities/fps.js","webpack:///./active/dungeon/scripts/misc/statbar.js"],"names":["window","world","split","map","val","key","listen","g","app","PIXI","Application","backgroundColor","antialias","stage","Container","barriers","battle","addChild","i","gridline","Sprite","rectangle","x","y","loader","add","load","setup","document","body","appendChild","view","slime","player","bg","j","tile","resources","texture","anchor","coord","length","wall","console","log","loop","move","stop","start","render","module","exports","a","renderer","canvas","width","height","createElement","ctx","getContext","color","b","fillStyle","fillRect","Texture","fromCanvas","circle","radius","beginPath","arc","Math","PI","fill","tethers","onkeydown","e","event","which","keyCode","indexOf","push","forEach","tether","index","type","func","perma","splice","onkeyup","check","callback","not","undefined","waitUp","waitDown","every","runeMap","name","runes","effect","duration","amount","cost","scroll","floor","random","spell","scrollContainer","cast","lock","rune","toLowerCase","cb","end","children","setTexture","health","attack","bigTex","smallTex","sprite","maxHealth","counter","mode","maxMana","mana","spells","testcheck","round","scale","enemy","playerHealth","playerMana","enemyHealth","obj","active","casting","spellContainer","timer","alpha","removeChild","spl","buttonMode","interactive","on","initiate","going","requestAnimationFrame","draw","resume","pause","toggle","restart","ct","fills","max","starts","shades","bodys","ends"],"mappings":"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","file":"active/dungeon/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ee5cfc4e482c306c9bf8","//Create a Pixi Application\r\nimport shapes from \"./drawing/shapes.js\";\r\nimport key from \"./utilities/keypress.js\";\r\nimport Spell from \"./misc/spell.js\";\r\nimport Enemy from \"./misc/enemy.js\";\r\nimport Player from \"./misc/player.js\";\r\nimport Encounter from \"./misc/encounter.js\";\r\nimport fps from \"./utilities/fps.js\";\r\nwindow.world = `111111111111111111111111111111111111111111111\r\n100000000000000000000000000000000000000000001\r\n100000000000000000000000000000000000000000001\r\n100000000000000000000000000000000000000000001\r\n100pe0000000000000000000000000000000000000001\r\n100000000000000000000000000000000000000000001\r\n100000000000000000000000000000000000000000001\r\n100000000000000000000000000000000000000000001\r\n100000000000000000000000000000000000000000001\r\n100000000000000000000000000000000000000000001\r\n100000000000000000000000000000000000000000001\r\n100000000000000000000000000000000000000000001\r\n100000000000000000000000000000000000000000001\r\n100000000000000000000000000000000000000000001\r\n100000000000000000000000000000000000000000001\r\n111111111111111111111111111111111111111111111`.split(\"\\n\");\r\nworld = world.map(function(val){\r\n  return val.split(\"\");\r\n})\r\nwindow.key = key;\r\nkey.listen()\r\nwindow.g = {};\r\nlet app = new PIXI.Application(702, 576, {\r\n  backgroundColor: 0xecf0f1,\r\n  antialias:true\r\n});\r\nwindow.stage = app.stage;\r\nwindow.map = new PIXI.Container();\r\nwindow.barriers = [];\r\nwindow.battle = new PIXI.Container();\r\nstage.addChild(map)\r\n\r\nfor(let i = 0; i < 18;i++){\r\n  let gridline = new PIXI.Sprite(shapes.rectangle(1,640,\"#000000\"));\r\n  gridline.x = i * 64;\r\n  map.addChild(gridline)\r\n\r\n}\r\nfor(let i = 0; i < 18;i++){\r\n  let gridline = new PIXI.Sprite(shapes.rectangle(768,1,\"#000000\"));\r\n  gridline.y = i * 64;\r\n  map.addChild(gridline)\r\n\r\n}\r\nPIXI.loader\r\n.add(\"./slimebig.png\")\r\n.add(\"./evstart.png\")\r\n.add(\"./evbodyfill.png\")\r\n.add(\"./evbody.png\")\r\n.add(\"./evend.png\")\r\n.add(\"./mpbodyfill.png\")\r\n.add(\"./mpstart.png\")\r\n.add(\"./hpbodyfill.png\")\r\n.add(\"./hpstart.png\")\r\n.add(\"./goldend.png\")\r\n.add(\"./goldbody.png\")\r\n.add(\"./tile.png\")\r\n.add(\"./slime.png\")\r\n.add(\"./qg.png\")\r\n.add(\"./qw.png\")\r\n.add(\"./ag.png\")\r\n.add(\"./aw.png\")\r\n.add(\"./steve.png\")\r\n.add(\"./steve-2.png\")\r\n.add(\"./steve-stand.png\").load(setup);\r\ndocument.body.appendChild(app.view);\r\nfunction setup() {\r\n  let barriers = new PIXI.Container();\r\n  map.addChild(barriers);\r\n  let slime = new Enemy(500,function(){return 5}); \r\n  let player = new Player();\r\n  function bg(i,j){\r\n    let tile = new PIXI.Sprite(PIXI.loader.resources[\"./tile.png\"].texture)\r\n    tile.anchor.x = 0.5;\r\n    tile.x = j*64 + 32 + 1;\r\n    tile.y = i*64;\r\n    tile.coord = {\"x\":i,\"y\":j};\r\n    barriers.addChild(tile);\r\n  }\r\n  for(let i = 0;i< world.length;i++){\r\n    for(let j =0;j<world[i].length;j++){\r\n      if(world[i][j] === \"1\"){\r\n        let wall = new PIXI.Sprite(shapes.rectangle(64,64,\"#000\"))\r\n        wall.anchor.x = 0.5;\r\n        wall.x = j*64 + 32 + 1;\r\n        wall.y = i*64;\r\n        wall.coord = {\"x\":i,\"y\":j};\r\n        barriers.addChild(wall);\r\n      }\r\n      if(world[i][j] === \"0\"){\r\n        bg(i,j)\r\n      }\r\n      if(world[i][j] === \"p\"){\r\n        map.x -= j * 64 - 351;\r\n        map.y -= i * 64 - 576/2;\r\n        player.x += j * 64 - 351 +32;\r\n        player.y += i * 64 - 576/2 - 32;\r\n        console.log(player);\r\n        player.coord.x = j;\r\n        player.coord.y = i;\r\n        bg(i,j)\r\n      }\r\n      if(world[i][j] === \"e\"){\r\n        slime.x += i*64;\r\n        slime.y += j*64;\r\n        slime.coord.x = j;\r\n        slime.coord.y = j;\r\n        bg(i,j)\r\n      }\r\n    }\r\n  }\r\n  let loop = new fps(function(){\r\n    //console.log(slime.x,\",\",slime.y)\r\n    //console.log(player.x,\",\",player.y)\r\n    player.move()\r\n    if(slime.coord.x === player.coord.x && slime.coord.y === player.coord.y){\r\n      loop.stop();\r\n      Encounter.start(player,slime)\r\n    }\r\n    app.render(map)\r\n  })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./active/dungeon/scripts/index.js","module.exports = new function () {\r\n    var a = this;\r\n    this.renderer = \"\";\r\n    this.canvas = function (width, height) {\r\n        var canvas = document.createElement('canvas');\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        var ctx = canvas.getContext(\"2d\");\r\n        return {\r\n            \"canvas\": canvas,\r\n            \"ctx\": ctx\r\n        };\r\n    };\r\n    this.rectangle = function (width, height, color) {\r\n        var b = a.canvas(width, height);\r\n        b.ctx.fillStyle = color;\r\n        b.ctx.fillRect(0, 0, width, height);\r\n        return PIXI.Texture.fromCanvas(b.canvas);\r\n    };\r\n    this.circle = function (radius, color) {\r\n        var b = a.canvas(radius * 2, radius * 2);\r\n        b.ctx.fillStyle = color;\r\n        b.ctx.beginPath();\r\n        b.ctx.arc(radius, radius, radius, 0, 2 * Math.PI);\r\n        b.ctx.fill();\r\n        return PIXI.Texture.fromCanvas(b.canvas);\r\n    };\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./active/dungeon/scripts/drawing/shapes.js","export default new function() {\r\n    var a = this;\r\n    this.map = [];\r\n    this.tethers = [];\r\n    this.listen = function() {\r\n        document.onkeydown = function(e) {\r\n            e = e || window.event;\r\n            e = e.which || e.keyCode || 0;\r\n            if (a.map.indexOf(e) == -1) {\r\n                a.map.push(e);\r\n            }\r\n            a.tethers.forEach(function(tether, index) {\r\n                if (tether.type == \"down\") {\r\n                    if (e === tether.key) {\r\n                        tether.func();\r\n                        if (!tether.perma) a.tethers.splice(index, 1);\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        document.onkeyup = function(e) {\r\n            e = e || window.event;\r\n            e = e.which || e.keyCode || 0;\r\n                // use e.keyCode\r\n            if (a.map.indexOf(e) != -1) {\r\n                a.map.splice(a.map.indexOf(e), 1);\r\n            }\r\n            a.tethers.forEach(function(tether, index) {\r\n                if (tether.type == \"up\") {\r\n                    if (e === tether.key) {\r\n                        tether.func();\r\n                        if (!tether.perma) a.tethers.splice(index, 1);\r\n                    }\r\n                }\r\n            });\r\n        };\r\n    };\r\n    this.check = function(key, callback, not) {\r\n        if (typeof key != \"object\") {\r\n            key = [key];\r\n        }\r\n        for (var i = 0; i < key.length; i++) {\r\n            if (a.map.indexOf(key[i]) != -1) {\r\n                callback();\r\n                i = key.length;\r\n                return true;\r\n            }\r\n        }\r\n        if (not !== undefined) {\r\n            not();\r\n        }\r\n        return false;\r\n    };\r\n    this.waitUp = function(key, func, perma) {\r\n        if (perma === undefined) {\r\n            perma = false;\r\n        }\r\n        a.tethers.push({\r\n            \"key\": key,\r\n            \"func\": func,\r\n            \"type\": \"up\",\r\n            \"perma\": perma\r\n        });\r\n    };\r\n    this.waitDown = function(key, func, perma) {\r\n        if (perma === undefined) {\r\n            perma = false;\r\n        }\r\n        if(a.tethers.every(function(val){\r\n            return key !== val.key\r\n        })){\r\n            console.log(\"veritable beans\")\r\n        a.tethers.push({\r\n            \"key\": key,\r\n            \"func\": func,\r\n            \"type\": \"down\",\r\n            \"perma\": perma\r\n        });\r\n        }\r\n    };\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./active/dungeon/scripts/utilities/keypress.js","import key from \"./../utilities/keypress.js\";\r\nlet runeMap = {\r\n    \"Q\":81,\r\n    \"A\":65\r\n}\r\nexport default class{\r\n    constructor(name,runes,effect,duration,amount,cost){\r\n        this.name = name\r\n        this.runes = runes\r\n        this.effect = effect\r\n        this.duration = duration\r\n        this.amount = amount\r\n        this.cost = cost\r\n    }\r\n    cast(){\r\n        this.scroll = \"\"\r\n        for(let i = 0; i < this.amount;i++){\r\n            this.scroll += this.runes[Math.floor(Math.random()*this.runes.length)]\r\n        }\r\n    }\r\n    initiate(){\r\n        key.tethers = []\r\n        let spell = this;\r\n        let scrollContainer = new PIXI.Container();\r\n        this.cast();\r\n        let duration = this.duration * 60;\r\n        let lock = 0;\r\n        let index = 0;\r\n        spell.scroll.split(\"\").forEach(function(val,index){\r\n            let rune = new PIXI.Sprite(PIXI.loader.resources[\"./\"+val.toLowerCase()+\"w.png\"].texture);\r\n            rune.x = (index % 11) * 64;\r\n            rune.y = 64 * 6 + Math.floor(index/11) * 64;\r\n            scrollContainer.addChild(rune);\r\n        })\r\n        battle.addChild(scrollContainer);\r\n        return function(cb,end){\r\n            if(duration <= 0){\r\n                end();\r\n                return 0;\r\n            } else{\r\n                duration--;\r\n                if(lock <= 0){\r\n                        for(let i = 0;i < spell.runes.length;i++){\r\n                            key.waitDown(runeMap[spell.runes[i]],function(){\r\n                            if(spell.runes[i] === spell.scroll[index]){\r\n                                scrollContainer.children[index].setTexture(PIXI.loader.resources[\"./\"+spell.runes[i].toLowerCase()+\"g.png\"].texture)\r\n                                index += 1;\r\n                                //Success!\r\n                                i = spell.runes.length\r\n                                cb();\r\n                                return 1;\r\n                            } else{\r\n                                lock = spell.duration * 60 / 10\r\n                                return 0;\r\n                            }\r\n                        })\r\n                        }\r\n                }\r\n                else{\r\n                    lock--;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./active/dungeon/scripts/misc/spell.js","export default class{\r\n    constructor(health,attack){\r\n        this.health = health\r\n        this.attack = attack\r\n        this.bigTex = PIXI.loader.resources[\"./slimebig.png\"].texture\r\n        this.smallTex = PIXI.loader.resources[\"./slime.png\"].texture\r\n        this.sprite = new PIXI.Sprite(this.smallTex);\r\n        this.sprite.anchor.x = 0.5;\r\n        this.sprite.x = 32;\r\n\r\n        this.maxHealth = 50;\r\n        this.health = 50;\r\n        this.coord = {\"x\":0,\"y\":0}\r\n        map.addChild(this.sprite)\r\n    }\r\n    get x(){\r\n        return this.sprite.x\r\n    }\r\n    set x(x){\r\n        this.sprite.x = x\r\n    }\r\n    get y(){\r\n        return this.sprite.y\r\n    }\r\n    set y(y){\r\n        this.sprite.y = y\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./active/dungeon/scripts/misc/enemy.js","import shapes from \"./../drawing/shapes.js\";\r\nimport Spell from \"./spell.js\";\r\nexport default class{\r\n    constructor(){\r\n        this.sprite = new PIXI.Sprite(PIXI.loader.resources[\"./steve-stand.png\"].texture);\r\n        this.sprite.x = 702/2 + 2\r\n        this.sprite.y = 578/2 - 32\r\n        this.counter = 0\r\n        this.mode = \"\"\r\n        this.sprite.anchor.x = 0.5;\r\n        this.coord = {\"x\":0,\"y\":0};\r\n        this.maxHealth = 50;\r\n        this.health = 50;\r\n        this.maxMana = 50;\r\n        this.mana = 50;\r\n        map.addChild(this.sprite);\r\n        this.spells = [new Spell(\"Multiattack\",[\"Q\",\"A\"],function(e){return 5},5,25,5)]\r\n    }\r\n    move(){\r\n        let player = this\r\n\r\n        if(player.mode !== \"\"){\r\n            let testcheck = world[player.coord.y + player.mode[1] / 4][player.coord.x + player.mode[0] / 4] === \"1\";\r\n            console.log(player.coord.y + player.mode[1] / 4)\r\n            console.log(player.coord.x + player.mode[0] / 4)\r\n            console.log(world[player.coord.y + player.mode[1] / 4],player.coord.x + player.mode[0] / 4)\r\n            if(!testcheck){\r\n                //Begin animation loop\r\n                player.counter += 1;\r\n                if(player.counter % 24 < 8){\r\n                    player.sprite.texture = PIXI.loader.resources[\"./steve-2.png\"].texture;\r\n                } else if(player.counter % 24 < 16){\r\n                    player.sprite.texture = PIXI.loader.resources[\"./steve-stand.png\"].texture;\r\n                }\r\n                else{\r\n                    player.sprite.texture = PIXI.loader.resources[\"./steve.png\"].texture;\r\n                }\r\n                map.x -= player.mode[0] * 2/3;\r\n                map.y -= player.mode[1] * 2/3;\r\n                player.x += player.mode[0] * 2/3;\r\n                player.y += player.mode[1] * 2/3;\r\n\r\n                if(player.counter === 24){\r\n                    player.coord.y += player.mode[1] / 4;\r\n                    player.coord.x += player.mode[0] / 4;\r\n                    player.x = Math.round(player.x);\r\n                    player.y = Math.round(player.y);\r\n                player.mode = \"\"\r\n                if(key.check([87,38,65,37,40,83,68,39],function(){})){\r\n                    player.sprite.texture = PIXI.loader.resources[\"./steve-2.png\"].texture;\r\n                } else{\r\n                    player.sprite.texture = PIXI.loader.resources[\"./steve-stand.png\"].texture;\r\n                }\r\n                }\r\n            } else{\r\n                player.mode = \"\"\r\n            }\r\n          }\r\n          key.check([87,38], function() {\r\n            if (player.mode === \"\"){\r\n              //up\r\n              player.mode = [0,-4]\r\n              player.counter = 0\r\n            }\r\n          })\r\n          key.check([65,37], function() {\r\n            if (player.mode === \"\"){\r\n              //left\r\n              player.mode = [-4,0]\r\n              player.counter = 0\r\n              player.sprite.scale.x = 1;\r\n            }\r\n          })\r\n          key.check([83,40], function() {\r\n            if (player.mode === \"\"){\r\n              //down\r\n              player.mode = [0,4]\r\n              player.counter = 0\r\n            }\r\n          })\r\n          key.check([68,39], function() {\r\n            if (player.mode === \"\"){\r\n              //right\r\n              player.mode = [4,0]\r\n              player.counter = 0\r\n              player.sprite.scale.x = -1;\r\n            }\r\n          })\r\n    }\r\n    get x(){\r\n        return this.sprite.x\r\n    }\r\n    set x(x){\r\n        this.sprite.x = x\r\n    }\r\n    get y(){\r\n        return this.sprite.y\r\n    }\r\n    set y(y){\r\n        this.sprite.y = y\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./active/dungeon/scripts/misc/player.js","import shapes from \"./../drawing/shapes.js\";\r\nimport fps from \"./../utilities/fps.js\";\r\nimport statbar from \"./statbar.js\";\r\nexport default new class{\r\n    constructor(){\r\n    }\r\n    start(player,enemy){\r\n        let playerHealth = new statbar(player.health,player.maxHealth,\r\n            PIXI.loader.resources[\"./hpstart.png\"].texture,\r\n            PIXI.loader.resources[\"./hpbodyfill.png\"].texture,\r\n            PIXI.loader.resources[\"./goldbody.png\"].texture,\r\n            PIXI.loader.resources[\"./goldend.png\"].texture)\r\n        let playerMana = new statbar(player.mana,player.maxMana,\r\n            PIXI.loader.resources[\"./mpstart.png\"].texture,\r\n            PIXI.loader.resources[\"./mpbodyfill.png\"].texture,\r\n            PIXI.loader.resources[\"./goldbody.png\"].texture,\r\n            PIXI.loader.resources[\"./goldend.png\"].texture)\r\n        let enemyHealth = new statbar(enemy.health,enemy.maxHealth,\r\n            PIXI.loader.resources[\"./evstart.png\"].texture,\r\n            PIXI.loader.resources[\"./evbodyfill.png\"].texture,\r\n            PIXI.loader.resources[\"./evbody.png\"].texture,\r\n            PIXI.loader.resources[\"./evend.png\"].texture)\r\n        playerMana.sprite.y = 32;\r\n        playerHealth.sprite.y = 318;\r\n        playerMana.sprite.y = 350;\r\n        enemyHealth.sprite.x = 698 - enemyHealth.sprite.width;\r\n        battle.addChild(playerHealth.sprite);\r\n        battle.addChild(playerMana.sprite);\r\n        battle.addChild(enemyHealth.sprite);\r\n        let obj = this;\r\n        obj.counter = 0;\r\n        let active = \"\";\r\n        let casting = function(){};\r\n        let spellContainer = new PIXI.Container();\r\n        obj.timer = new fps(function(){\r\n            if(obj.counter < 20){\r\n                map.alpha -= 0.05\r\n                obj.counter += 1;\r\n            }\r\n            if(obj.counter === 20){\r\n                stage.removeChild(map);\r\n                stage.addChild(battle);\r\n                map.removeChild(enemy.sprite);\r\n                battle.addChild(enemy.sprite);\r\n                battle.alpha = 0;\r\n                enemy.sprite.texture = enemy.bigTex\r\n                enemy.x = 702/2;\r\n                enemy.y = 64;\r\n                obj.counter += 1;\r\n            }\r\n            if(obj.counter > 20 && obj.counter < 40){\r\n                obj.counter+= 1;\r\n                battle.alpha += 0.05;\r\n            } else if(obj.counter === 40){\r\n                player.spells.forEach(function(spl){\r\n                    \r\n                    let spell = new PIXI.Sprite(shapes.rectangle(64,64,\"#000\"))\r\n                    spell.buttonMode = true;\r\n                    spell.interactive = true;\r\n                    spell.y = 384\r\n                    spell.on(\"click\",function(){\r\n                        player.mana -= spl.cost;\r\n                        playerMana.fill.width = player.mana\r\n                        active = spl;\r\n                        casting = spl.initiate();\r\n                        console.log(\"hey\")\r\n                        obj.counter += 1;\r\n                    })\r\n                    spellContainer.addChild(spell)\r\n                    \r\n                })\r\n                battle.addChild(spellContainer);\r\n                obj.counter += 1;\r\n            } else if(obj.counter === 41){} else if (obj.counter === 42){\r\n                console.log(\"\")\r\n                obj.counter += 1;\r\n                spellContainer.children.forEach(function(val){\r\n                    spellContainer.removeChild(val);\r\n                })\r\n            } else if(obj.counter === 43){\r\n                casting(function(){\r\n                    enemy.health -= active.effect()\r\n                    if(enemy.health < 0){\r\n                        enemyHealth.fill.width = 0;\r\n                    } else{\r\n                        enemyHealth.fill.width = enemy.health\r\n                    }\r\n                },function(){\r\n                    \r\n                })\r\n            } else{\r\n                if(obj.counter === 121){\r\n\r\n                } else{\r\n                    obj.counter += 1;\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./active/dungeon/scripts/misc/encounter.js","module.exports = function(cb) {\r\n    this.going = true;\r\n    this.start = function() {\r\n        this.going = true;\r\n        requestAnimationFrame(draw);\r\n    };\r\n    this.resume = this.start;\r\n    this.stop = function() {\r\n        this.going = false;\r\n    };\r\n    this.pause = this.stop;\r\n    this.toggle = function() {\r\n        this.going = !this.going;\r\n    };\r\n    this.restart = function() {\r\n        ct = 0;\r\n    };\r\n    var a = this;\r\n    var ct = 0;\r\n\r\n\r\n    function draw() {\r\n        if (a.going) {\r\n            requestAnimationFrame(draw);\r\n            ct++\r\n            cb(ct,a)\r\n            ct%= 64;\r\n        }\r\n    }\r\n    draw();\r\n    return this;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./active/dungeon/scripts/utilities/fps.js","export default class{\r\n    constructor(fills,max,starts,shades,bodys,ends){\r\n        this.sprite = new PIXI.Container();\r\n        \r\n\r\n        let body = new PIXI.Sprite(bodys)\r\n        body.x = 28;\r\n        body.width = max + 2;\r\n        this.sprite.addChild(body);\r\n\r\n        this.fill = new PIXI.Sprite(shades)\r\n        this.fill.x = 28;\r\n        this.fill.y = 10;\r\n        this.fill.width = fills + 4;\r\n        this.sprite.addChild(this.fill);\r\n\r\n        let end = new PIXI.Sprite(ends)\r\n        end.x = max - 2 + 30;\r\n        this.sprite.addChild(end);\r\n\r\n        this.sprite.addChild(new PIXI.Sprite(starts))\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./active/dungeon/scripts/misc/statbar.js"],"sourceRoot":""}